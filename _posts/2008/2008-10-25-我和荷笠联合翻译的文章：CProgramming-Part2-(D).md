---
layout: post
title: 我和荷笠联合翻译的文章：CProgramming-Part2 (D)
categories:
- Diandian
tags:
- Linux, 
---
<p>练习<br />重写循环中的main主函数，使之成为一个while循环<br />将isPrime（）函数中的if…else if…else语句重写为switch…case语句<br />将ternary (condition)?value1:value2三目运算重写为if…else语句<br />将主函数中的if…else改用三目运算符<br />将isPrime函数替换为一个isOdd函数，使程序在得到一个整数是奇数时返回第一步<br />设计并编写一个小的应用程序，实现输出第n位斐波那契数列（），n为易变的<br /><br /></p>
<p> </p>
<p>01. #include &lt;stdio.h&gt;<br />02. #define VERSION&nbsp;&nbsp; &quot;1.0&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />03.<br />04. /*<br />05. * Runs a prime check on a given integer, return<br />06. * 1 when the integer is a prime number, 0 otherwise<br />07. */<br />08. int isPrime(int prime)<br />09. {<br />10.&nbsp;&nbsp;&nbsp;&nbsp; int count=2;<br />11.<br />12.&nbsp;&nbsp;&nbsp;&nbsp; // Catch two special cases<br />13.&nbsp;&nbsp;&nbsp;&nbsp; if(prime==1)<br />14.&nbsp;&nbsp;&nbsp;&nbsp; {<br />15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;<br />16.&nbsp;&nbsp;&nbsp;&nbsp; }<br />17.&nbsp;&nbsp;&nbsp;&nbsp; else if(prime==2)<br />18.&nbsp;&nbsp;&nbsp;&nbsp; {<br />19.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1;<br />20.&nbsp;&nbsp;&nbsp;&nbsp; }<br />21.&nbsp;&nbsp;&nbsp;&nbsp; else<br />22.&nbsp;&nbsp;&nbsp;&nbsp; {<br />23.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(prime%count!=0 &amp;&amp; count*count&lt;=prime)<br />24.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />25.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count++;<br />26.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />27.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (prime%count==0)?0:1;<br />28.&nbsp;&nbsp;&nbsp;&nbsp; }<br />29. } <br />30.<br /></p>
<p>Listing 1: flow_control.c part one</p>
<p> </p>
<p>31. /*<br />32.&nbsp;&nbsp; * Print version information<br />33.&nbsp;&nbsp; */<br />34. void printVersion()<br />35. {<br />36.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;Primality checker version %s\n&quot;, VERSION);<br />37.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;Compiled on %s %s\n&quot;, __DATE__, __TIME__);<br />38. }<br />39.<br />40. int main()<br />41. {<br />42.&nbsp;&nbsp;&nbsp;&nbsp; int i=1;<br />43.&nbsp;&nbsp;&nbsp;&nbsp; const int max_prime=2500;<br />44.<br />45.&nbsp;&nbsp;&nbsp;&nbsp; printVersion();<br />46.<br />47.&nbsp;&nbsp;&nbsp;&nbsp; for(i=1;i&lt;max_prime;i++)<br />48.&nbsp;&nbsp;&nbsp;&nbsp; {<br />49.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(isPrime(i))<br />50.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />51.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;%d is prime\n&quot;,i);<br />52.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />53.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br />54.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />55.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;%d is not prime\n&quot;,i);<br />56.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />57.&nbsp;&nbsp;&nbsp;&nbsp; }<br />58.&nbsp;&nbsp;&nbsp;&nbsp; return 0;<br />59. }<br /></p>
<p>Listing 2: flow_control.c part two</p>