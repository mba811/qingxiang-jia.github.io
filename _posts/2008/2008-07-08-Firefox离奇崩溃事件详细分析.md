---
layout: post
title: Firefox离奇崩溃事件详细分析
categories:
- Diandian
tags:
- 计算机技术, 
---
昨天要给爸做幻灯片，时间很紧，那时我正在Ubuntu下，于是决定将就Ubuntu开工。（本身Linux桌面应用就很适合办公）
<br />我肯定就是用firefox了啊，可是没想到，firefox开了2、3分钟就会卡死。在我的开启了Compiz的机器上表现为一片灰色笼罩着firefox。
<img src="http://m2.img.srcdd.com/farm4/d/2012/0627/10/9D603CACF2BA9C12BC1D2F8184491A8C_B500_900_500_400.JPEG" />（连崩溃也很艺术啊）时间紧迫，没办法，只好告别linux，弃明投暗，转入windows。
<br />第一选择还是firefox，不过，最令人奇怪的事情发生了，windows下也和Linux下一样，出现了2、3分钟就卡死的问题，只不过变成了微软标志性的“未响应”。接着又发生了几次相同的问题，没办法，在已经暗无天日的时候再次弃明投暗，选择了IE核心的遨游。
<br />今天下午，幻灯片做完了。我重新回过头来看这次的问题。
<br />首先，出现卡死的情况都是我们在网上下载网页的时候发生的，会不会是firefox的下载网页相关功能上有BUG呢？于是，我做了一个对照试验。第一次，简单的浏览网页，2分钟——卡死。第二次试验，一边下载网页一边浏览，还是卡死。看来这个问题应该不是下载网页导致的。况且我用的是firefox正式版，要出问题不可能是我一个人的，而网上没有任何此类问题，看来是我自己的问题了。
<br />说到我自己的问题，排除硬件、系统环境等极为复杂且可能性为0的因素后，就只有扩展和插件了。不过插件我一直都是这些，也没有出国类似问题，再说Linux下和windows下的插件不同，要导致相同问题，机会比较小。所以，可能性比较大的就是扩展了。
<br />我很精简，firefox上只装了两个扩展：personal menu和Foxmarks。
<br />
<img src="http://m3.img.srcdd.com/farm5/d/2012/0627/10/532F5A73C615988B726972B7AEB193C2_B500_900_500_365.PNG" />
<br />现在windows下，禁用两个扩展。然后若无其事地浏览网页。一直没有问题。
<br />看来，问题真的出在扩展上。幸好我只有两个扩展，好排查。
<br />先禁用personal menu，开启Foxmarks，结果：卡死。
<br />再禁用Foxmarks，开启personal menu，结果：一切正常！
<br />哈哈，终于找到问题所在了！
<br />不过究竟是什么导致了Foxmarks出现这样的问题呢？我实在是不愿意卸载掉Foxmarks，因为它的功能实在是无语伦比（Google的那个根本比不上）。
<br />于是发了电子邮件问Foxmarks的官方人员。（如图）
<br />
<img src="http://m2.img.srcdd.com/farm5/d/2012/0627/10/CF68D5F9CBB7432AC65D6EB4026F08D2_B500_900_500_134.PNG" />很快便有了回复（如图）
<br />
<img src="http://m2.img.srcdd.com/farm5/d/2012/0627/10/F6AFF32B5E166770AD56A85AA7EC02B3_B500_900_500_132.PNG" />我的书签由于这些年在Internet上摸爬滚打，早就超过1000个了，所以出现了问题。
<br />但是，难道我就要缩减这些常年的积淀么，实在不忍心。
<br />所以继续寻找方法。我考虑到既然是在开了firefox2、3分钟内出的问题，说明Foxmarks不仅仅是在关闭firefox的时候同步书签，其实卡死的时候就是同步书签的时候。抱着这个想法打开了设置。果然：自动同步书签
<br />
<img src="http://m3.img.srcdd.com/farm5/d/2012/0627/10/9F5484C75CCAC71BAEDC8C3DDC0997F0_B500_900_500_216.PNG" />对于大多数人来说（你的机器并不是几分钟就崩溃一次吧），“关闭前同步书签”就足够了，所以我禁用了“自动同步书签”。
<img src="http://m2.img.srcdd.com/farm4/d/2012/0627/10/69F6CE6B10509CF22D1DFB70E2BF3F96_B500_900_365_435.PNG" />再测试，果然，Foxmarks就没有在你浏览网页的时候同步书签了，这样，一样面减轻了Foxmarks官方服务器的负荷，一方面拥有超多书签的人也不会出现卡死的问题了！
<br />那么，windows是这样，Linux下是不是呢？同样的方法，在Linux下一番试验表明，问题完全解决！
<img src="http://m1.img.srcdd.com/farm3/24/3781E74DA0B972C7A529986743D9B018_50_50.GIF" />