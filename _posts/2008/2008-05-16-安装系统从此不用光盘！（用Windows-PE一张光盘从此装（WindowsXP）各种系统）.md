---
layout: post
title: 安装系统从此不用光盘！（用Windows PE一张光盘从此装（WindowsXP）各种系统）
categories:
- Diandian
tags:
- 计算机技术, 
---
昨天去修外婆家的电脑，结果自己刻的深度精简5不知道怎么的不能引导系统，很是郁闷，而且这个时候我已经格式化了系统盘，这个时候可谓是万念俱灰，看着“Boot operationg system failed”心情十分郁闷。
<img src="http://m1.img.srcdd.com/farm4/d/2012/0627/10/D5CE595F3B420780792C59A466EFA276_B500_900_218_189.JPEG" />后来，想到既然Windows PE是所谓的光盘操作系统，那么可不可以在Windows PE上虚拟一个系统安装盘进行安装呢？这时候我突然想到自己用来备份系统资料的U盘上还有深度精简5的镜像文件，于是说干就干。我放进去了电脑迷的Windows PE光盘，是有虚拟光驱，不过我在找的时候看到了一个更加令人兴奋的文字：安装操作系统！于是点开一看，就是一个无人值守的配置菜单。其他都很方便，唯独有一个序列号不知道改填什么，因为深度精简是不用输序列号的，那么就抱着侥幸心理试试看喽。 结果是安装程序顺利开启，不过出现“序列号错误”的提示，于是苦思冥想，决定去看看readme。一看才知道，深度精简5也有一个备选的序列号，就是用在自己运行WIN32.EXE的时候用的。赶快填上去，然后开始无人值守安装。这个时候吃完饭去了。晚饭吃完，系统已经登入。设置好影子系统，立马准备重启，结果开机提示“……hal.dll文件损坏或不存在”，当时就奇怪了，
<img src="http://m1.img.srcdd.com/farm5/177/8BA937E1D32547AB553329BCEF73F6B1_640_480.GIF" />之前还正常运行了这么就的新系统，（图：实在是找不到中文的，韩语将就吧）怎么突然就缺文件呢？我就想，从安装状态直接到的新操作系统就一切正常，普通重启开机却找不到文件，该不会是引导的问题吧。于是再次使用Windows PE看了新系统的Boot.ini文件，发现，新的系统居然没有Boot文件，这怎么回事呢。再看看另一个分区，居然Boot文件在这个分区。（C我是作为文件盘，D我作为系统盘，这个一般的习惯不同）。于是干脆移动Boot.ini文件到D分区，提示无法移动。于是先复制Boot.ini到D，然后再删除（删除是可以的，不知道为什么）。重启。这次更惨，根本不提示，直接无法读取操作系统。于是我还是把Boot文件用上述迂回办法改回来了。然后继续Google。这才发现，Boot文件里面的（下面红字部分就是一个典型的Boot文件）
<br />[boot loader]
<br />timeout=30
<br />default=multi(0)disk(0)rdisk(0)partition(1)\Windows
<br />[operating systems]
<br />multi(0)disk(0)rdisk(0)partition(1)\Windows=&quot;Microsoft Windows XP Professional&quot; /fastdetect
<br />multi、disk和rdsk都是以“0”为起始，而唯独只有partition最特殊，是以“1”作为起始编号，这下我豁然开朗，因为我的操作系统装的地方和别人的都不一样，是装在D盘，也就是系统的第二个分区，所以partition应该设为：2才对，然后马上对应新系统的Boot文件，果然是partition（1），全部改过来！再重启！问题顺利解决！（顺便说说，深度精简的XP速度真的不错，我外婆家的电脑是PIII 128M的超级古董机，速度堪比新配电脑！）
<br />