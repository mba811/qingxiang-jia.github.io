---
layout: post
title: sudo dpkg --configure -a的作用
categories:
- Diandian
tags:
- Linux, 
---
昨天下载non-free flash的时候误以为卡住了，于是强行关闭KpackageKit，导致从此以后无法使用它安装任何程序，因为在程序的记录当中non-free flash的安装并没有完成。怎么都解决不了，于是在网上找，最后在ubuntuforums.org上找到了解决方法， 帖子的标题是：《 Only one software management tool is allowed to run at the same time 》，其中有一条回复： type dpkg --configure -a to see what's happening, and CTRL-C to stop it. 解决了问题，最后在红联上找到了解释： 作者: wangdu2002 发布日期: 2009-4-24 利用底层的dpkg包管理工具修复一些包安装错误。 不过奇怪的是，在dpkg的用法上，并没有configure这个参数。 顺便贴下修复过程的终端记录（实际上就是把没下完的包下载完了） lee@lee-desktop:~$ sudo dpkg --configure -a 正在设置 flashplugin-installer (10.0.22.87ubuntu2) ... Downloading...                                        \\--2009-06-12 16:28:24-- http://archive.canonical.com/pool/partner/a/adobe-flashplugin/adobe-flashplugin\\\_10.0.22.87.orig.tar.gz 正在解析主机 archive.canonical.com... 91.189.90.142                                                                            正在连接 archive.canonical.com|91.189.90.142|:80... 已连接。                                                                   已发出 HTTP 请求，正在等待回应... 200 OK                                                                                       长度： 3968445 (3.8M) \\\[application/x-gzip\\\]                                                                                     保存到‘./adobe-flashplugin\\\_10.0.22.87.orig.tar.gz’                                                                                  0K .......... .......... .......... .......... .......... 1% 6.34K 10m3s     50K .......... .......... .......... .......... .......... 2% 9.16K 8m24s    100K .......... .......... .......... .......... .......... 3% 2.61K 13m28s    150K .......... .......... .......... .......... .......... 5% 5.59K 12m42s                                                                                       200K .......... .......... .......... .......... .......... 6% 5.91K 12m4s                                                                                        250K .......... .......... .......... .......... .......... 7% 7.23K 11m18s                                                                                       300K .......... .......... .......... .......... .......... 9% 6.69K 10m48s                                                                                       350K .......... .......... .......... .......... .......... 10% 8.25K 10m12s                                                                                       400K .......... .......... .......... .......... .......... 11% 10.7K 9m31s                                                                                        450K .......... .......... .......... .......... .......... 12% 6.01K 9m23s                                                                                        500K .......... .......... .......... .......... .......... 14% 6.17K 9m13s                                                                                        550K .......... .......... .......... .......... .......... 15% 4.94K 9m15s                                                                                        600K .......... .......... .......... .......... .......... 16% 7.67K 8m56s                                                                                        650K .......... .......... .......... .......... .......... 18% 4.44K 9m1s                                                                                         700K .......... .......... .......... .......... .......... 19% 11.7K 8m35s                                                                                        750K .......... .......... .......... .......... .......... 20% 10.0K 8m14s                                                                                        800K .......... .......... .......... .......... .......... 21% 8.11K 8m0s                                                                                         850K .......... .......... .......... .......... .......... 23% 5.81K 7m54s                                                                                        900K .......... .......... .......... .......... .......... 24% 5.08K 7m52s                                                                                        950K .......... .......... .......... .......... .......... 25% 6.47K 7m43s                                                                                     1000K .......... .......... .......... .......... .......... 27% 6.49K 7m34s                                                                                     1050K .......... .......... .......... .......... .......... 28% 6.29K 7m26s                                                                                     1100K .......... .......... .......... .......... .......... 29% 8.60K 7m12s                                                                                     1150K .......... .......... .......... .......... .......... 30% 13.7K 6m55s                                                                                     1200K .......... .......... .......... .......... .......... 32% 5.46K 6m50s                                                                                     1250K .......... .......... .......... .......... .......... 33% 2.82K 7m2s                                                                                      1300K .......... .......... .......... .......... .......... 34% 3.46K 7m5s 1350K .......... .......... .......... .......... .......... 36% 4.66K 7m1s 1400K .......... .......... .......... .......... .......... 37% 4.99K 6m55s 1450K .......... .......... .......... .......... .......... 38% 7.16K 6m44s 1500K .......... .......... .......... .......... .......... 39% 9.22K 6m31s 1550K .......... .......... .......... .......... .......... 41% 6.45K 6m22s 1600K .......... .......... .......... .......... .......... 42% 9.85K 6m9s 1650K .......... .......... .......... .......... .......... 43% 6.78K 5m59s 1700K .......... .......... .......... .......... .......... 45% 8.82K 5m48s 1750K .......... .......... .......... .......... .......... 46% 7.96K 5m38s 1800K .......... .......... .......... .......... .......... 47% 5.92K 5m30s 1850K .......... .......... .......... .......... .......... 49% 10.1K 5m18s 1900K .......... .......... .......... .......... .......... 50% 6.09K 5m10s 1950K .......... .......... .......... .......... .......... 51% 6.71K 5m2s 2000K .......... .......... .......... .......... .......... 52% 9.79K 4m51s 2050K .......... .......... .......... .......... .......... 54% 11.5K 4m40s 2100K .......... .......... .......... .......... .......... 55% 5.42K 4m33s 2150K .......... .......... .......... .......... .......... 56% 11.6K 4m23s 2200K .......... .......... .......... .......... .......... 58% 8.59K 4m13s 2250K .......... .......... .......... .......... .......... 59% 4.67K 4m8s 2300K .......... .......... .......... .......... .......... 60% 3.68K 4m3s 2350K .......... .......... .......... .......... .......... 61% 6.79K 3m55s 2400K .......... .......... .......... .......... .......... 63% 4.10K 3m50s 2450K .......... .......... .......... .......... .......... 64% 5.29K 3m42s 2500K .......... .......... .......... .......... .......... 65% 4.05K 3m36s 2550K .......... .......... .......... .......... .......... 67% 5.25K 3m29s 2600K .......... .......... .......... .......... .......... 68% 5.12K 3m21s 2650K .......... .......... .......... .......... .......... 69% 5.30K 3m14s 2700K .......... .......... .......... .......... .......... 70% 6.66K 3m5s 2750K .......... .......... .......... .......... .......... 72% 6.92K 2m57s 2800K .......... .......... .......... .......... .......... 73% 8.79K 2m47s 2850K .......... .......... .......... .......... .......... 74% 5.80K 2m39s 2900K .......... .......... .......... .......... .......... 76% 4.10K 2m33s 2950K .......... .......... .......... .......... .......... 77% 15.2K 2m23s 3000K .......... .......... .......... .......... .......... 78% 8.80K 2m14s 3050K .......... .......... .......... .......... .......... 79% 6.78K 2m6s 3100K .......... .......... .......... .......... .......... 81% 5.68K 1m58s 3150K .......... .......... .......... .......... .......... 82% 9.81K 1m49s 3200K .......... .......... .......... .......... .......... 83% 5.62K 1m41s 3250K .......... .......... .......... .......... .......... 85% 4.15K 94s 3300K .......... .......... .......... .......... .......... 86% 8.75K 85s 3350K .......... .......... .......... .......... .......... 87% 5.77K 77s 3400K .......... .......... .......... .......... .......... 89% 4.61K 69s 3450K .......... .......... .......... .......... .......... 90% 10.1K 61s 3500K .......... .......... .......... .......... .......... 91% 10.1K 52s 3550K .......... .......... .......... .......... .......... 92% 15.3K 44s 3600K .......... .......... .......... .......... .......... 94% 7.01K 36s 3650K .......... .......... .......... .......... .......... 95% 4.07K 28s 3700K .......... .......... .......... .......... .......... 96% 12.4K 20s 3750K .......... .......... .......... .......... .......... 98% 11.4K 12s 3800K .......... .......... .......... .......... .......... 99% 12.5K 4s 3850K .......... .......... .....                           100% 7.25K=10m11s 2009-06-12 16:38:37 (6.34 KB/s) - \\\`./adobe-flashplugin\\\_10.0.22.87.orig.tar.gz' 已经保存 \\\[3968445/3968445\\\] Download done. Flash Plugin installed. 正在设置 flashplugin-nonfree (10.0.22.87ubuntu2) ...